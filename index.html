<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Озвучка английских слов</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        input {
            padding: 10px;
            font-size: 16px;
            width: 300px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin-left: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Озвучка английских слов</h1>
    <input type="text" id="textToSpeak" placeholder="Введите слово на английском">
    <button onclick="speakText()">Озвучить</button>

    <script>
        let isSpeaking = false;
        let voicesLoaded = false;

        window.speechSynthesis.onvoiceschanged = () => {
            voicesLoaded = true;
            console.log('Голоса загружены.');
        };

        function speakText() {
            if (isSpeaking) return;
            if (!voicesLoaded) {
                alert('Голоса еще не загружены. Попробуйте еще раз.');
                return;
            }

            const textToSpeak = document.getElementById('textToSpeak').value;

            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = 'en-US';

                const voices = window.speechSynthesis.getVoices();
                const femaleVoice = voices.find(voice => voice.lang === 'en-US' && voice.name.includes('Female'));

                if (femaleVoice) {
                    utterance.voice = femaleVoice; // Устанавливаем женский голос
                } else {
                    console.warn('Женский английский голос не найден. Будет использован голос по умолчанию.');
                }

                utterance.rate = 0.7; // Скорость речи
                utterance.pitch = 1; // Высота голоса

                isSpeaking = true;

                utterance.onend = () => {
                    isSpeaking = false;
                };

                window.speechSynthesis.speak(utterance);
            } else {
                alert('Ваш браузер не поддерживает озвучку текста.');
            }
        }
    </script>
</body>
</html>
